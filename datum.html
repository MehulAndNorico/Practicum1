<!DOCTYPE html>
<html>
	<head>
		<title>Overige API's van Facebook</title>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="style.css"/>
		<link rel="stylesheet" href="jq/jquery-ui.min.css">
		<script src="jq/external/jquery/jquery.js"></script>
		<script src="jq/jquery-ui.min.js"></script>
		<script src="flot/jquery.flot.js"></script>
		<!-- <script src="jq/jquery-1.11.2.min.js"></script> -->
	</head>
	<body>
		<div id='header'>
			<h2>NOG AANPASSEN</h2>
			<button>NOG AANPASSEN</button>
		</div>

		<div id='content'>
		<form action="javascript:update()">
				<label for="query">Zoekterm:</label>
				<input type="text" id="query" pattern="([a-zA-Z]+)|(([a-zA-Z]+ )+[a-zA-Z]+)" title="Zoekterm(en) gescheiden door een spatie" required>
					<br><br>
				<label for="query">Het is mogelijk om meerdere zoektermen op te geven. Plaats er dan een spatie tussen.</label>
					<br>

			    	<br>
		    	<label for="aantal">Aantal foto's</label>
		    	<input id="aantal">
		    		<br><br>
		    	<div id="slider"></div>
			    	<br>

			    	<br>
				<label for="datum1">Van:</label>
				<input type="text" data-date-format="YYYYY-MM-DD" id="datum1">
				<div id="datum1"></div>
					<br><br>
				<label for="datum2">Tot:</label>
				<input type="text" data-date-format="YYYYY-MM-DD" id="datum2">
				<div id="datum2"></div>
					<br>

					<br>
				<input type="submit">
			</form>
			
			<script>
				var datum = new Date();
				var datum1b = (datum.getFullYear() - 10) + '-' + datum.getDate() + '-' + (datum.getMonth() + 1);
				var datum2b = datum.getFullYear() + '-' + datum.getDate() + '-' + (datum.getMonth() + 1);

				$( "#datum1" ).datepicker({
					inline: true,
					dateFormat: 'yy-mm-dd',
					onSelect: function(dateText, inst){
						datum1b = dateText;
				}});
				$( "#datum2" ).datepicker({
					inline: true,
					dateFormat: 'yy-mm-dd',
					onSelect: function(dateText, inst){
						datum2b = dateText;
						console.log(dateText);
				}});
	
				$("#datum1").datepicker("setDate", datum1b);
				$("#datum2").datepicker("setDate", datum2b);
				

				//$("#datum1").change(function() {});

					/*function test(){
					  	var request = gapi.client.youtube.search.list({
					    	q: "test",
					    	part: 'snippet'
					  	});

					  	request.execute(function(response) {
					    	var str = JSON.stringify(response.result);
					    	console.log(str);
					    	$('#search-container').html('<pre>' + str + '</pre>');
				  	})};*/
					
					update = function() {
						var youtubeAPI = "https://www.googleapis.com/youtube/v3/search?";
						$.getJSON( youtubeAPI, {
							q: query.value.replace(" ", "+"),
							part: "snippet",
							maxResults: 50,
							key: "AIzaSyAGa_Kkbli0HlPKgZemR6RlvN5qslR6r0U",
							publishedAfter: (datum1b + "T00:00:00Z"),
							publishedBefore: (datum2b + "T00:00:00Z")
						})
						.done(function(data) {
							console.log(data);
							document.getElementById("fotos").innerHTML = "";
							$.each( data.items, function( i, item ) {
								$( "<a href='" + item.snippet.thumbnails.default.url + "'><img src='" + item.snippet.thumbnails.medium.url +"'></a>"  ).appendTo( "#fotos" );
							});
						});
					};
			</script>
			<div id="fotos"></div>
		</div>

		<div id='footer'>
			<a>NOG AANPASSEN</a>
		</div>
	</body>
</html>